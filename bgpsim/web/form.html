<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>攻击表单</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="AYH">
    <link href="static/assets/css/bootstrap.css" rel="stylesheet">
    <link href="static/assets/css/theme.css" rel="stylesheet">
    <link href="static/assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="static/assets/css/alertify.css" rel="stylesheet">    
    <link href="static/assets/css/colorpicker.css" rel="stylesheet">
    <link href="static/assets/css/datepicker.css" rel="stylesheet">
    <link href="static/assets/css/timepicker.css" rel="stylesheet">
    <link href="static/assets/css/select2.css" rel="stylesheet">
  </head>
  <body>
  <div id="wrap">
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          

          <div class="top-menu visible-desktop">
            <ul class="pull-right">  
              <li><a href="/login"><i class="icon-off"></i> Logout</a></li>
            </ul>
          </div>

          <div class="top-menu visible-phone visible-tablet">
            <ul class="pull-right">  
              <li><a href="/login"><i class="icon-off"></i></a></li>
            </ul>
          </div>

        </div>
      </div>
    </div>


    <div class="container-fluid">
     
      <!-- Main window -->
      <div class="container" id="forms_page">
        <div class="row-fluid">
          <ul class="breadcrumb">            
            <li class="active"><a href="/" target="_blank">拓扑图</a><span class="divider">|</span></li>
            <li class="active">攻击表单<span class="divider">|</span></li>
            <li class="active"><a href="xielou" target="_blank">BGP泄漏</a><span class="divider">|</span></li>
            <li class="active"><a href="pinggraph" target="_blank">Ping</a><span class="divider">|</span></li> 
            <li class="active"><a href="traceroute" target="_blank">Traceroute</a><span class="divider">|</span></li> 
            <li class="active"><a href="tcpdump" target="_blank">Tcpdump</a></li> 
          </ul>
          <h2 class="heading">
                攻击BGP路由器
          </h2>
        </div>
        <!-- <div id="center-container"> -->
        <!-- </div> -->
        <!-- <p id="shishi">
          0
        </p> -->
        <div class="row-fluid">
          <div class="widget widget-padding span12">
            <div class="widget-header">
              <i class="icon-file-alt"></i><h5>启动控制机</h5>
              <div class="widget-buttons">
                  <a href="#" data-title="Collapse" data-collapsed="false" class="tip collapse"><i class="icon-chevron-up"></i></a>
              </div>
            </div>
          <form class="form-horizontal" method="post" action="/show" target="_blank">
            <div class="widget-body">
              <div class="widget-forms clearfix">
                  <div class="control-group">
                    <label class="control-label">攻击目标IP地址</label>
                    <div class="controls">
                      <input id="attack_ip" class="span4" type="text" name="attack_IP_address" required pattern="[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}" placeholder="填写IP地址">
                      <span class="help-inline">(例如192.168.1.1)</span>
                    </div>
                  </div> 

                  <div class="control-group">
                    <label class="control-label">攻击目标另一端的IP地址</label>
                    <div class="controls">
                      <input id="route_ip" class="span4" type="text" name="route_ip" required pattern="[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}" placeholder="填写IP地址">
                      <span class="help-inline">(例如192.168.1.1)</span>
                    </div>
                  </div>                 

                  <div class="control-group">
                    <label class="control-label">僵尸机IP地址</label>
                    <div class="controls">
                      <input id="bot_ip" class="span4" type="text" name="js_IP_address" required placeholder="填写IP地址">
                      <span class="help-inline">(用空格隔开)</span>
                    </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label">开始攻击等待时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="wait" type="text" name="wait" pattern="^[1-9]\d*$" class="span2" placeholder="请输入等待秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            秒 （若为空，则按照指定时刻攻击）
                          </span>
                        </div>
                      </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label">攻击日期</label>
                      <div class="controls">
                        <div id="datediv" class="input-append date span4 datepicker datepicker-basic" data-date="2017-11-2" data-date-format="yyyy-mm-dd"><!-- data-date="12-02-2012" bootstrap-timepicker-component  -->
                          <input type="text" id="datenow" value="2017-11-9" pattern="((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))" name="date" required >
                          <span class="add-on"><i class="icon-th"></i></span>
                        </div>
                      </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label">具体时间</label>
                      <div class="controls">
                        <div class="input-append bootstrap-timepicker span5">
                          <input type="text" name="time"  class="timepicker-24hrs" value="8:00:00">
                          <span class="add-on">
                            <i class="icon-time"></i>
                          </span>
                        </div>
                      </div>
                  </div>
    
                  

                  <div class="control-group">
                    <label class="control-label">总攻击持续时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="attack_time" type="text" name="chixu" required class="span2" placeholder="请输入秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            秒
                          </span>
                        </div>
                      </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label">每次攻击持续时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="per_attack_time" type="text" name="meici" required class="span2" placeholder="请输入秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            秒
                          </span>
                        </div>
                      </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label">间隔时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="attack_frequency" type="text" name="jiange" required class="span2" placeholder="请输入毫秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            毫秒
                          </span>
                        </div>
                      </div>
                  </div>
                  
                  <div class="control-group">
                    <label class="control-label">一个包的负载大小</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="length" type="text" name="fuzai" required class="span2" placeholder=""> 
                          <span id="basic-addon2" class="input-group-addon">
                            字节 (IP包大小为负载+28字节)
                          </span>                        
                        </div>
                      </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label">攻击峰值</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="max" type="text" name="fengzhi" required class="span2" placeholder=""> 
                          <span id="basic-addon2" class="input-group-addon">
                            Mbit/s
                          </span>                        
                        </div>
                      </div>
                  </div>                  

                  <div class="control-group">
                    <label class="control-label">控制机IP地址</label>
                    <div class="controls">
                      <input id="control_ip" class="span4" type="text" name="control_IP_address" required pattern="[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}" placeholder="填写IP地址">
                      <span class="help-inline"></span>
                    </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label">keepalive时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="keeptime" type="text" name="keeptime" required class="span2" placeholder="请输入秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            秒
                          </span>
                        </div>
                      </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label">holdtime时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="holdtime" type="text" name="holdtime" required class="span2" placeholder="请输入秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            秒
                          </span>
                        </div>
                      </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label">BGP重连间隔时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="reconnect_time" type="text" name="reconnect_time" required class="span2" placeholder="请输入秒数">
                          <span id="basic-addon2" class="input-group-addon">
                            秒
                          </span>
                        </div>
                      </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label">被攻击路由的上传和下载带宽</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="up_down" type="text" name="bandwidth" required class="span2" placeholder=""> 
                          <span id="basic-addon2" class="input-group-addon">
                            （1024为1Mbit）
                          </span>                        
                        </div>
                      </div>
                  </div>


                  <div class="control-group">
                    <label class="control-label">抓包持续时间</label>
                      <div class="controls">
                        <div class="input-group">
                          <input id="dump_time" type="text" name="dump_time" required class="span2" placeholder=""> 
                          <span id="basic-addon2" class="input-group-addon">
                            秒
                          </span>                        
                        </div>
                      </div>
                  </div>


              </div>
            </div>
            <div class="widget-footer">
               <button class="btn btn-primary" type="submit">开始</button>
               <!-- <button class="btn" type="button">Cancel</button> -->
            </div>
          </form>
          </div>
        </div>  


        <div class="row-fluid">
          
          </div>
        </div>
      </div>
      <!-- /Main window -->
      
    </div><!--/.fluid-container-->
    </div><!-- wrap ends-->
    <script type="text/javascript" src="static/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="static/assets/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="static/assets/js/raphael-min.js"></script>
    <script type="text/javascript" src="static/assets/js/bootstrap.js"></script>
    <script type="text/javascript" src='static/assets/js/sparkline.js'></script>
    <script type="text/javascript" src='static/assets/js/morris.min.js'></script>
    <script type="text/javascript" src="static/assets/js/jquery.dataTables.min.js"></script>   
    <script type="text/javascript" src="static/assets/js/jquery.masonry.min.js"></script>   
    <script type="text/javascript" src="static/assets/js/jquery.imagesloaded.min.js"></script>   
    <script type="text/javascript" src="static/assets/js/jquery.facybox.js"></script>   
    <script type="text/javascript" src="static/assets/js/jquery.alertify.min.js"></script> 
    <script type="text/javascript" src="static/assets/js/jquery.knob.js"></script>
    <script type='text/javascript' src='static/assets/js/fullcalendar.min.js'></script>
    <script type='text/javascript' src='static/assets/js/jquery.gritter.min.js'></script>
    <script type="text/javascript" src="static/assets/js/realm.js"></script>

    <script type="text/javascript" src="static/assets/js/select2.min.js"></script>
    <script type="text/javascript" src="static/assets/js/bootstrap-colorpicker.js"></script>
    <script type="text/javascript" src="static/assets/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="static/assets/js/bootstrap-timepicker.js"></script>

    <script type="text/javascript">      
      var date = new Date();
      var seperator1 = "-";
      var seperator2 = ":";
      var month = date.getMonth() + 1;
      var strDate = date.getDate();
      if (month >= 1 && month <= 9) {
          month = "0" + month;
      }
      if (strDate >= 0 && strDate <= 9) {
          strDate = "0" + strDate;
      }
      var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate;      
      document.getElementById("datenow").value=currentdate;
      //document.getElementById("datediv").(date-date)=currentdate;
    </script>
    <script type="text/javascript">
      var xmlhttp;
      if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp=new XMLHttpRequest();
      }
      else{// code for IE6, IE5
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
      }
      xmlhttp.open("GET","default_form",true);
      xmlhttp.send();
      xmlhttp.onreadystatechange=function()
      {
        if ((xmlhttp.readyState==4 && xmlhttp.status==200) || (xmlhttp.status==304 && xmlhttp.readyState==1))
        {
           json=xmlhttp.responseText;
           var obj = eval ("(" + json + ")");           
           for (section in obj){
            if (section != "keep_hold" && section != "start_time"){
              // document.getElementById("shishi").innerHTML += section;
              // document.getElementById("shishi").innerHTML += "   ";
              // document.getElementById("shishi").innerHTML += obj[section];
              // document.getElementById("shishi").innerHTML += "\n"
              document.getElementById(section).value = obj[section];
            }
            else if (section == "keep_hold"){

            }            
           }
        }
      }

    </script>
  </body>
</html>